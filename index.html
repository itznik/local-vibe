<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Vibe</title>
    <!-- This imports the Tailwind CSS library for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* A simple animation for the loading state */
        @keyframes pulse {
            50% { opacity: .5; }
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen font-sans">

    <div class="w-full max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl m-4">
        <div class="p-8">
            <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold">Welcome to</div>
            <h1 class="block mt-1 text-3xl leading-tight font-bold text-black">Local Vibe</h1>
            <p class="mt-2 text-gray-500">A place for spontaneous, local skill-sharing.</p>

            <div id="api-status-card" class="mt-6 p-4 border rounded-lg bg-gray-50">
                <p class="text-gray-700 font-medium">Status of our API Server:</p>
                <!-- This is where the message from your server will appear -->
                <p id="api-message" class="text-lg font-semibold text-gray-900 mt-2 italic animate-pulse">
                    Connecting to the server...
                </p>
            </div>
        </div>
    </div>

    <script>
        // --- JAVASCRIPT TO FETCH DATA FROM YOUR API ---

        // IMPORTANT: Replace this with your actual Render API URL
        const API_URL = 'https://local-vibe-api.onrender.com/';

        // Find the elements on the page we want to update
        const messageElement = document.getElementById('api-message');
        const statusCardElement = document.getElementById('api-status-card');

        // Fetch the message from the API when the page loads
        async function checkApiStatus() {
            try {
                const response = await fetch(API_URL);
                if (!response.ok) {
                    // Handle server errors (like 502, 500 etc.)
                    throw new Error(`Server responded with status: ${response.status}`);
                }
                const data = await response.text();

                // --- SUCCESS ---
                messageElement.textContent = `"${data}"`;
                messageElement.classList.remove('animate-pulse', 'text-gray-900');
                messageElement.classList.add('text-green-600');
                statusCardElement.classList.add('border-green-300');

            } catch (error) {
                // --- FAILURE ---
                console.error('Failed to fetch from API:', error);
                messageElement.textContent = 'Connection to server failed. Please check the logs.';
                messageElement.classList.remove('animate-pulse', 'text-gray-900');
                messageElement.classList.add('text-red-600');
                statusCardElement.classList.add('border-red-300');
            }
        }

        // Run the function
        checkApiStatus();
    </script>
</body>
</html>

